{"ast":null,"code":"var _jsxFileName = \"/Users/yanghaochen/Desktop/CS185/CS185_hw8/src/Components/Comment.js\";\nimport React, { Component } from 'react';\nimport config from '../config.js';\n\nconst firebase = require('firebase');\n\nexport class Comment extends Component {\n  constructor() {\n    super();\n\n    this.helper = event => {\n      event.preventDefault();\n\n      if (this.state.name === '') {\n        alert(\"Missing component! What is your name?\");\n      } else if (this.state.statements === '') {\n        alert(\"Missing component! What have you to say?\");\n      } else {\n        let formObj = {\n          name: this.state.name,\n          description: this.state.description,\n          statements: this.state.statements,\n          visibility: this.state.visibility,\n          email: this.state.email,\n          date: firebase.database.ServerValue.TIMESTAMP\n        };\n        firebase.database().ref('data').push().set(formObj);\n        this.setState({\n          shouldUpdate: true\n        });\n        alert(\"We get your message!\");\n      }\n    };\n\n    this.do_change = event => {\n      let field = event.target.name;\n      let value = event.target.value;\n      this.setState({\n        [field]: value\n      });\n    };\n\n    this.state = {\n      data: [],\n      name: '',\n      description: '',\n      statements: '',\n      visibility: 'private',\n      email: ''\n    };\n  }\n\n  componentDidMount() {\n    if (!firebase.apps.length) {\n      firebase.initializeApp(config);\n    }\n\n    firebase.database().ref('data').on('value', snapshot => {\n      let data = snapshot.val();\n      let newData = [];\n      let month = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Auguest\", \"September\", \"October\", \"Novmber\", \"December\"];\n\n      for (let index in data) {\n        let d = new Date(data[index].date);\n        let date = month[d.getMonth()] + \"/\" + d.getDate() + \"/\" + d.getFullYear() + \",   \" + d.getHours() + \":\" + d.getMinutes() + \":\" + d.getSeconds();\n        newData.push({\n          date: date,\n          name: data[index].name,\n          description: data[index].description,\n          statements: data[index].statements,\n          visibility: data[index].visibility,\n          email: data[index].email\n        });\n      }\n\n      this.setState({\n        data: newData\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CommentPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.helper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, \"Leave your message here!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"dot\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }\n    }, \"*\"), \" May I know your name? \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 72\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"name\",\n      type: \"text\",\n      minLength: \"6\",\n      maxLength: \"19\",\n      onChange: this.do_change,\n      style: {\n        height: \"18px\",\n        fontSize: 17,\n        fontFamily: 'Comic Sans MS'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, \" Offer a short description of yourself. \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 77\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"description\",\n      type: \"text\",\n      maxLength: \"99\",\n      onChange: this.do_change,\n      style: {\n        height: \"18px\",\n        fontSize: 17,\n        fontFamily: 'Comic Sans MS'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"dot\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 37\n      }\n    }, \"*\"), \" What have you to say? \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 72\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"statements\",\n      minLength: \"16\",\n      maxLength: \"499\",\n      onChange: this.do_change,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"dot\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 37\n      }\n    }, \"*\"), \" Would you like your name and message to be viewable by the other guests of this site? \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 136\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"visibility\",\n      name: \"visibility\",\n      onChange: this.do_change,\n      style: {\n        fontSize: 17,\n        fontFamily: 'Comic Sans MS'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"private\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 41\n      }\n    }, \"No\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"public\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 41\n      }\n    }, \"Yes\"))), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 33\n      }\n    }, \"If you would like me to be able to contact you, what is your email? (email will not be posted)\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      type: \"text\",\n      onChange: this.do_change,\n      style: {\n        height: \"18px\",\n        fontSize: 17,\n        fontFamily: 'Comic Sans MS'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"dot\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 37\n      }\n    }, \"*\"), \" means required\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      id: \"submit\",\n      name: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 37\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"out_put\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, \"Comment\"), this.state.data.map(eachInfo => {\n      if (eachInfo.visibility !== 'private') {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"date\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 46\n          }\n        }, eachInfo.date), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 91\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"name\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 41\n          }\n        }, eachInfo.name), \" \", /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 87\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 41\n          }\n        }, eachInfo.description), \" \", /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 78\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 41\n          }\n        }, eachInfo.statements), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 41\n          }\n        }));\n      }\n    }))));\n  }\n\n}\nexport default Comment;","map":{"version":3,"sources":["/Users/yanghaochen/Desktop/CS185/CS185_hw8/src/Components/Comment.js"],"names":["React","Component","config","firebase","require","Comment","constructor","helper","event","preventDefault","state","name","alert","statements","formObj","description","visibility","email","date","database","ServerValue","TIMESTAMP","ref","push","set","setState","shouldUpdate","do_change","field","target","value","data","componentDidMount","apps","length","initializeApp","on","snapshot","val","newData","month","index","d","Date","getMonth","getDate","getFullYear","getHours","getMinutes","getSeconds","render","height","fontSize","fontFamily","map","eachInfo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport config from '../config.js';\nconst firebase = require('firebase')\n\nexport class Comment extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            name: '',\n            description: '',\n            statements: '',\n            visibility: 'private',\n            email: '',\n        }\n    }\n\n    componentDidMount(){\n\n        if (!firebase.apps.length) {\n            firebase.initializeApp(config);\n        }\n\n        firebase.database().ref('data').on('value', snapshot => {\n\n            let data = snapshot.val();\n            let newData = [];\n            let month = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Auguest\",\n                \"September\", \"October\", \"Novmber\", \"December\"];\n            for (let index in data) {\n                let d = new Date(data[index].date);\n                let date = month[d.getMonth()]+\"/\"+d.getDate()+\"/\"+d.getFullYear()+\",   \"+d.getHours()+\":\"+d.getMinutes()+\":\"+d.getSeconds();\n                newData.push({\n                    date: date,\n                    name: data[index].name,\n                    description: data[index].description,\n                    statements: data[index].statements,\n                    visibility: data[index].visibility,\n                    email: data[index].email,\n\n                })\n            }\n            this.setState({data: newData});\n        })\n    }\n\n\n\n    helper = (event) => {\n        event.preventDefault();\n        if (this.state.name === '') {\n            alert(\"Missing component! What is your name?\");\n        }\n        else if (this.state.statements === '') {\n            alert(\"Missing component! What have you to say?\");\n        }\n        else {\n            let formObj = {\n                name: this.state.name,\n                description: this.state.description,\n                statements: this.state.statements,\n                visibility: this.state.visibility,\n                email: this.state.email,\n                date: firebase.database.ServerValue.TIMESTAMP,\n            };\n            firebase.database().ref('data').push().set(formObj);\n            this.setState({shouldUpdate: true});\n            alert(\"We get your message!\");\n        }\n    }\n\n    do_change = (event) => {\n        let field = event.target.name;\n        let value = event.target.value;\n        this.setState({[field]: value});\n    }\n\n    render() {\n        return (\n            <div>\n\n\n                {/*left comments form*/}\n\n                <div className='CommentPage'>\n                    <div className='form'>\n                        <form onSubmit={this.helper}>\n                            <h2>Leave your message here!</h2>\n\n                            <p>\n\n                                <h4>\n                                    <dot>*</dot> May I know your name? <br/>\n                                    <input name='name' type='text' minLength='6' maxLength='19'  onChange={this.do_change}\n                                           style={{ height: \"18px\", fontSize: 17, fontFamily: 'Comic Sans MS'}}/>\n                                </h4>\n\n\n                                <h4> Offer a short description of yourself. <br/>\n                                    <input name='description' type='text' maxLength='99' onChange={this.do_change}\n                                           style={{ height: \"18px\", fontSize: 17, fontFamily: 'Comic Sans MS'}}/>\n                                </h4>\n\n\n\n                                <h4><dot>*</dot> What have you to say? <br/>\n                                    <textarea name='statements' minLength='16' maxLength='499' onChange={this.do_change}></textarea>\n                                </h4>\n\n\n\n                                <h4><dot>*</dot> Would you like your name and message to be viewable by the other guests of this site? <br/>\n                                    <select id='visibility' name='visibility' onChange={this.do_change} style={{ fontSize: 17, fontFamily: 'Comic Sans MS'}}>\n                                        <option value='private'>No</option>\n                                        <option value='public'>Yes</option>\n                                    </select>\n                                </h4>\n\n                                <h4>If you would like me to be able to contact you, what is your email? (email will not be posted)\n                                    <input name='email' type='text'  onChange={this.do_change}\n                                           style={{ height: \"18px\", fontSize: 17, fontFamily: 'Comic Sans MS'}}/>\n                                </h4>\n\n\n\n\n\n                                <h4><dot>*</dot> means required</h4>\n                                <div>\n                                    <input type='submit' id='submit' name='submit' value='Submit'></input>\n                                </div>\n\n\n                            </p>\n\n                        </form>\n                    </div>\n\n\n\n\n\n                    {/*here is the output*/}\n\n\n                    <div className='out_put'>\n                        <h2 >Comment</h2>\n                        {this.state.data.map((eachInfo) => {\n                            if(eachInfo.visibility !== 'private') {\n\n                                return (\n                                    <div>\n                                        <br/><span className='date'>{eachInfo.date}</span><br/>\n                                        <span className='name'>{eachInfo.name}</span> <br/>\n                                        <span >{eachInfo.description}</span> <br/>\n                                        <span >{eachInfo.statements}</span>\n                                        <br/>\n                                        <br/>\n\n                                    </div>\n                                )\n\n                            }\n                        })}\n                    </div>\n\n                </div>\n            </div>\n        );\n    }\n}\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}