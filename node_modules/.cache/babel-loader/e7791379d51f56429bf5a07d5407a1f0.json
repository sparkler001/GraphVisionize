{"ast":null,"code":"import _defineProperty from\"/Users/yanghaochen/Desktop/CS185/CS185_hw8/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/yanghaochen/Desktop/CS185/CS185_hw8/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yanghaochen/Desktop/CS185/CS185_hw8/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yanghaochen/Desktop/CS185/CS185_hw8/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yanghaochen/Desktop/CS185/CS185_hw8/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import config from'../config.js';var firebase=require('firebase');export var Comment=/*#__PURE__*/function(_Component){_inherits(Comment,_Component);var _super=_createSuper(Comment);function Comment(){var _this;_classCallCheck(this,Comment);_this=_super.call(this);_this.helper=function(event){event.preventDefault();if(_this.state.name===''){alert(\"Missing component! What is your name?\");}else if(_this.state.statements===''){alert(\"Missing component! What have you to say?\");}else{var formObj={name:_this.state.name,description:_this.state.description,statements:_this.state.statements,visibility:_this.state.visibility,email:_this.state.email,date:firebase.database.ServerValue.TIMESTAMP};firebase.database().ref('data').push().set(formObj);_this.setState({shouldUpdate:true});alert(\"We get your message!\");}};_this.do_change=function(event){var field=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},field,value));};_this.state={data:[],name:'',description:'',statements:'',visibility:'private',email:''};return _this;}_createClass(Comment,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(!firebase.apps.length){firebase.initializeApp(config);}firebase.database().ref('data').on('value',function(snapshot){var data=snapshot.val();var newData=[];var month=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"Auguest\",\"September\",\"October\",\"Novmber\",\"December\"];for(var index in data){var d=new Date(data[index].date);var date=month[d.getMonth()]+\"/\"+d.getDate()+\"/\"+d.getFullYear()+\",   \"+d.getHours()+\":\"+d.getMinutes()+\":\"+d.getSeconds();newData.push({date:date,name:data[index].name,description:data[index].description,statements:data[index].statements,visibility:data[index].visibility,email:data[index].email});}_this2.setState({data:newData});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"CommentPage\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.helper},/*#__PURE__*/React.createElement(\"h2\",null,\"Leave your message here!\"),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"dot\",null,\"*\"),\" May I know your name? \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{name:\"name\",type:\"text\",minLength:\"6\",maxLength:\"19\",onChange:this.do_change,style:{height:\"18px\",fontSize:17,fontFamily:'Comic Sans MS'}})),/*#__PURE__*/React.createElement(\"h4\",null,\" Offer a short description of yourself. \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{name:\"description\",type:\"text\",maxLength:\"99\",onChange:this.do_change,style:{height:\"18px\",fontSize:17,fontFamily:'Comic Sans MS'}})),/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"dot\",null,\"*\"),\" What have you to say? \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"textarea\",{name:\"statements\",minLength:\"16\",maxLength:\"499\",onChange:this.do_change})),/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"dot\",null,\"*\"),\" Would you like your name and message to be viewable by the other guests of this site? \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"select\",{id:\"visibility\",name:\"visibility\",onChange:this.do_change,style:{fontSize:17,fontFamily:'Comic Sans MS'}},/*#__PURE__*/React.createElement(\"option\",{value:\"private\"},\"No\"),/*#__PURE__*/React.createElement(\"option\",{value:\"public\"},\"Yes\"))),/*#__PURE__*/React.createElement(\"h4\",null,\"If you would like me to be able to contact you, what is your email? (email will not be posted)\",/*#__PURE__*/React.createElement(\"input\",{name:\"email\",type:\"text\",onChange:this.do_change,style:{height:\"18px\",fontSize:17,fontFamily:'Comic Sans MS'}})),/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"dot\",null,\"*\"),\" means required\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",id:\"submit\",name:\"submit\",value:\"Submit\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"out_put\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Comment\"),this.state.data.map(function(eachInfo){if(eachInfo.visibility!=='private'){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"date\"},eachInfo.date),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"name\"},eachInfo.name),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,eachInfo.description),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,eachInfo.statements),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null));}}))));}}]);return Comment;}(Component);export default Comment;","map":{"version":3,"sources":["/Users/yanghaochen/Desktop/CS185/CS185_hw8/src/Components/Comment.js"],"names":["React","Component","config","firebase","require","Comment","helper","event","preventDefault","state","name","alert","statements","formObj","description","visibility","email","date","database","ServerValue","TIMESTAMP","ref","push","set","setState","shouldUpdate","do_change","field","target","value","data","apps","length","initializeApp","on","snapshot","val","newData","month","index","d","Date","getMonth","getDate","getFullYear","getHours","getMinutes","getSeconds","height","fontSize","fontFamily","map","eachInfo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport config from '../config.js';\nconst firebase = require('firebase')\n\nexport class Comment extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            name: '',\n            description: '',\n            statements: '',\n            visibility: 'private',\n            email: '',\n        }\n    }\n\n    componentDidMount(){\n\n        if (!firebase.apps.length) {\n            firebase.initializeApp(config);\n        }\n\n        firebase.database().ref('data').on('value', snapshot => {\n\n            let data = snapshot.val();\n            let newData = [];\n            let month = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Auguest\",\n                \"September\", \"October\", \"Novmber\", \"December\"];\n            for (let index in data) {\n                let d = new Date(data[index].date);\n                let date = month[d.getMonth()]+\"/\"+d.getDate()+\"/\"+d.getFullYear()+\",   \"+d.getHours()+\":\"+d.getMinutes()+\":\"+d.getSeconds();\n                newData.push({\n                    date: date,\n                    name: data[index].name,\n                    description: data[index].description,\n                    statements: data[index].statements,\n                    visibility: data[index].visibility,\n                    email: data[index].email,\n\n                })\n            }\n            this.setState({data: newData});\n        })\n    }\n\n\n\n    helper = (event) => {\n        event.preventDefault();\n        if (this.state.name === '') {\n            alert(\"Missing component! What is your name?\");\n        }\n        else if (this.state.statements === '') {\n            alert(\"Missing component! What have you to say?\");\n        }\n        else {\n            let formObj = {\n                name: this.state.name,\n                description: this.state.description,\n                statements: this.state.statements,\n                visibility: this.state.visibility,\n                email: this.state.email,\n                date: firebase.database.ServerValue.TIMESTAMP,\n            };\n            firebase.database().ref('data').push().set(formObj);\n            this.setState({shouldUpdate: true});\n            alert(\"We get your message!\");\n        }\n    }\n\n    do_change = (event) => {\n        let field = event.target.name;\n        let value = event.target.value;\n        this.setState({[field]: value});\n    }\n\n    render() {\n        return (\n            <div>\n\n\n                {/*left comments form*/}\n\n                <div className='CommentPage'>\n                    <div className='form'>\n                        <form onSubmit={this.helper}>\n                            <h2>Leave your message here!</h2>\n\n                            <p>\n\n                                <h4>\n                                    <dot>*</dot> May I know your name? <br/>\n                                    <input name='name' type='text' minLength='6' maxLength='19'  onChange={this.do_change}\n                                           style={{ height: \"18px\", fontSize: 17, fontFamily: 'Comic Sans MS'}}/>\n                                </h4>\n\n\n                                <h4> Offer a short description of yourself. <br/>\n                                    <input name='description' type='text' maxLength='99' onChange={this.do_change}\n                                           style={{ height: \"18px\", fontSize: 17, fontFamily: 'Comic Sans MS'}}/>\n                                </h4>\n\n\n\n                                <h4><dot>*</dot> What have you to say? <br/>\n                                    <textarea name='statements' minLength='16' maxLength='499' onChange={this.do_change}></textarea>\n                                </h4>\n\n\n\n                                <h4><dot>*</dot> Would you like your name and message to be viewable by the other guests of this site? <br/>\n                                    <select id='visibility' name='visibility' onChange={this.do_change} style={{ fontSize: 17, fontFamily: 'Comic Sans MS'}}>\n                                        <option value='private'>No</option>\n                                        <option value='public'>Yes</option>\n                                    </select>\n                                </h4>\n\n                                <h4>If you would like me to be able to contact you, what is your email? (email will not be posted)\n                                    <input name='email' type='text'  onChange={this.do_change}\n                                           style={{ height: \"18px\", fontSize: 17, fontFamily: 'Comic Sans MS'}}/>\n                                </h4>\n\n\n\n\n\n                                <h4><dot>*</dot> means required</h4>\n                                <div>\n                                    <input type='submit' id='submit' name='submit' value='Submit'></input>\n                                </div>\n\n\n                            </p>\n\n                        </form>\n                    </div>\n\n\n\n\n\n                    {/*here is the output*/}\n\n\n                    <div className='out_put'>\n                        <h2 >Comment</h2>\n                        {this.state.data.map((eachInfo) => {\n                            if(eachInfo.visibility !== 'private') {\n\n                                return (\n                                    <div>\n                                        <br/><span className='date'>{eachInfo.date}</span><br/>\n                                        <span className='name'>{eachInfo.name}</span> <br/>\n                                        <span >{eachInfo.description}</span> <br/>\n                                        <span >{eachInfo.statements}</span>\n                                        <br/>\n                                        <br/>\n\n                                    </div>\n                                )\n\n                            }\n                        })}\n                    </div>\n\n                </div>\n            </div>\n        );\n    }\n}\nexport default Comment;\n"]},"metadata":{},"sourceType":"module"}